<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Address Based DID | IoTeX Documentaion</title>
    <meta name="generator" content="VuePress 1.5.2" />
    <link rel="icon" href="/logo.png" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png" />
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c" />
    <meta
      name="description"
      content="Developer docs, by the community, for the community"
    />
    <meta name="theme-color" content="#3eaf7c" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta
      name="msapplication-TileImage"
      content="/icons/msapplication-icon-144x144.png"
    />
    <meta name="msapplication-TileColor" content="#000000" />
    <link rel="preload" href="/assets/css/0.styles.d1d07cb2.css" as="style" />
    <link rel="preload" href="/assets/js/app.7d5bfce5.js" as="script" />
    <link rel="preload" href="/assets/js/2.8d860b64.js" as="script" />
    <link rel="preload" href="/assets/js/17.320aa745.js" as="script" />
    <link rel="prefetch" href="/assets/js/10.dba37ceb.js" />
    <link rel="prefetch" href="/assets/js/11.8d038730.js" />
    <link rel="prefetch" href="/assets/js/12.e53fa70e.js" />
    <link rel="prefetch" href="/assets/js/13.5493ea6d.js" />
    <link rel="prefetch" href="/assets/js/14.46dfc681.js" />
    <link rel="prefetch" href="/assets/js/15.2bc59e9b.js" />
    <link rel="prefetch" href="/assets/js/16.a93410b0.js" />
    <link rel="prefetch" href="/assets/js/18.af375d96.js" />
    <link rel="prefetch" href="/assets/js/19.09461327.js" />
    <link rel="prefetch" href="/assets/js/20.937df548.js" />
    <link rel="prefetch" href="/assets/js/3.8dc2298b.js" />
    <link rel="prefetch" href="/assets/js/4.e1f06043.js" />
    <link rel="prefetch" href="/assets/js/5.0b79be6f.js" />
    <link rel="prefetch" href="/assets/js/6.d0a7dabe.js" />
    <link rel="prefetch" href="/assets/js/7.5e9d9dfc.js" />
    <link rel="prefetch" href="/assets/js/8.fa264ff0.js" />
    <link rel="prefetch" href="/assets/js/9.cf1691e4.js" />
    <link rel="stylesheet" href="/assets/css/0.styles.d1d07cb2.css" />
  </head>
  <body>
    <div id="app" data-server-rendered="true">
      <div class="theme-container">
        <header class="navbar">
          <div class="sidebar-button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              role="img"
              viewBox="0 0 448 512"
              class="icon"
            >
              <path
                fill="currentColor"
                d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"
              ></path>
            </svg>
          </div>
          <a href="/" class="home-link router-link-active"
            ><img src="/logo.svg" alt="IoTeX Documentaion" class="logo" />
            <span class="site-name can-hide">IoTeX Documentaion</span></a
          >
          <div class="links">
            <div class="search-box">
              <input
                aria-label="Search"
                autocomplete="off"
                spellcheck="false"
                value=""
              />
              <!---->
            </div>
            <nav class="nav-links can-hide">
              <div class="nav-item">
                <a href="/" class="nav-link">
                  Home
                </a>
              </div>
              <div class="nav-item">
                <a
                  href="/middleware/did.html"
                  aria-current="page"
                  class="nav-link router-link-exact-active router-link-active"
                >
                  Middleware
                </a>
              </div>
              <div class="nav-item">
                <a href="/hardware/pebble.html" class="nav-link">
                  Hardware
                </a>
              </div>
              <div class="nav-item">
                <a href="/pylon/get-started.html" class="nav-link">
                  Pylon
                </a>
              </div>
              <a
                href="https://github.com/iotexproject/iotex-docs"
                target="_blank"
                rel="noopener noreferrer"
                class="repo-link"
              >
                GitHub
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  x="0px"
                  y="0px"
                  viewBox="0 0 100 100"
                  width="15"
                  height="15"
                  class="icon outbound"
                >
                  <path
                    fill="currentColor"
                    d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"
                  ></path>
                  <polygon
                    fill="currentColor"
                    points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"
                  ></polygon></svg
              ></a>
            </nav>
          </div>
        </header>
        <div class="sidebar-mask"></div>
        <aside class="sidebar">
          <nav class="nav-links">
            <div class="nav-item">
              <a href="/" class="nav-link">
                Home
              </a>
            </div>
            <div class="nav-item">
              <a
                href="/middleware/did.html"
                aria-current="page"
                class="nav-link router-link-exact-active router-link-active"
              >
                Middleware
              </a>
            </div>
            <div class="nav-item">
              <a href="/hardware/pebble.html" class="nav-link">
                Hardware
              </a>
            </div>
            <div class="nav-item">
              <a href="/pylon/get-started.html" class="nav-link">
                Pylon
              </a>
            </div>
            <a
              href="https://github.com/iotexproject/iotex-docs"
              target="_blank"
              rel="noopener noreferrer"
              class="repo-link"
            >
              GitHub
              <svg
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                x="0px"
                y="0px"
                viewBox="0 0 100 100"
                width="15"
                height="15"
                class="icon outbound"
              >
                <path
                  fill="currentColor"
                  d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"
                ></path>
                <polygon
                  fill="currentColor"
                  points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"
                ></polygon></svg
            ></a>
          </nav>
          <ul class="sidebar-links">
            <li>
              <section class="sidebar-group depth-0">
                <p class="sidebar-heading open">
                  <span></span>
                  <!---->
                </p>
                <ul class="sidebar-links sidebar-group-items">
                  <li>
                    <a
                      href="/middleware/did.html"
                      aria-current="page"
                      class="active sidebar-link"
                      >Address Based DID</a
                    >
                    <ul class="sidebar-sub-headers">
                      <li class="sidebar-sub-header">
                        <a
                          href="/middleware/did.html#_1-generate-a-did-doc"
                          class="sidebar-link"
                          >1. Generate a DID Doc</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/middleware/did.html#_2-upload-did-doc"
                          class="sidebar-link"
                          >2. Upload DID Doc</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/middleware/did.html#_3-hash-did-doc"
                          class="sidebar-link"
                          >3. Hash DID Doc</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/middleware/did.html#_4-register-did"
                          class="sidebar-link"
                          >4. Register DID</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/middleware/did.html#_5-resovle-did"
                          class="sidebar-link"
                          >5. Resovle DID</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/middleware/did.html#_6-update-did"
                          class="sidebar-link"
                          >6. Update DID</a
                        >
                      </li>
                      <li class="sidebar-sub-header">
                        <a
                          href="/middleware/did.html#_7-deregister-did"
                          class="sidebar-link"
                          >7. Deregister DID</a
                        >
                      </li>
                    </ul>
                  </li>
                </ul>
              </section>
            </li>
          </ul>
        </aside>
        <main class="page">
          <div class="theme-default-content content__default">
            <p>
              Please make sure to install ioctl on latest master branch of
              iotex-core repo.
            </p>
            <p>
              Our address based DID contract on IoTeX testnet is:
              <code>io1m3wjevwhz2s58sasq0wj4luxrnqt047s687zw8</code>
            </p>
            <h2 id="_1-generate-a-did-doc">
              <a href="#_1-generate-a-did-doc" class="header-anchor">#</a> 1.
              Generate a DID Doc
            </h2>
            <div class="language- extra-class">
              <pre
                class="language-text"
              ><code>Generate DID document using private key from wallet

Usage:
  ioctl did generate [-s SIGNER] [flags]
</code></pre>
            </div>
            <p>Example:</p>
            <div class="language-bash extra-class">
              <pre class="language-bash"><code>ioctl did generate -s test1
<span class="token punctuation">{</span>
  <span class="token string">&quot;@context&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;https://www.w3.org/ns/did/v1&quot;</span>,
  <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;did:io:0x476c81C27036D05cB5ebfe30ae58C23351a61C4A&quot;</span>,
  <span class="token string">&quot;authentication&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;did:io:0x476c81C27036D05cB5ebfe30ae58C23351a61C4A#owner&quot;</span>,
      <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;EcdsaSecp256k1VerificationKey2019&quot;</span>,
      <span class="token string">&quot;controller&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;did:io:0x476c81C27036D05cB5ebfe30ae58C23351a61C4A&quot;</span>,
      <span class="token string">&quot;publicKeyHex&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0355237d4af6afc7f139e396329d56a4d1235c94abde9a25782241774c06cccfb6&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

The hex encoded SHA256 <span class="token builtin class-name">hash</span> of the DID doc is:21e575fd6fd75591465481404986fac73de766446c793ff67adfa171d51adf85
</code></pre>
            </div>
            <h2 id="_2-upload-did-doc">
              <a href="#_2-upload-did-doc" class="header-anchor">#</a> 2. Upload
              DID Doc
            </h2>
            <p>
              DID Doc can be uploaded to any public accessible content storage
              like S3 or IPFS or other cloud storge, as long as you end up with
              a URI which is able to retrieve you DID Doc. If you plan to use
              IPFS, you can either setup your own IPFS node, or use service like
              https://pinata.cloud/.
            </p>
            <p>Exmaple:</p>
            <div class="language- extra-class">
              <pre
                class="language-text"
              ><code>https://gateway.pinata.cloud/ipfs/QmNNhWHyi5tRH78QqcTYHwfyNc3bbuLZTTvmk3UhWdAWjG
</code></pre>
            </div>
            <h2 id="_3-hash-did-doc">
              <a href="#_3-hash-did-doc" class="header-anchor">#</a> 3. Hash DID
              Doc
            </h2>
            <p>
              DID register asked for a 32 bytes hash of the DID Doc as an input.
              You could use any hashing algorithm fit your need. Once you got
              your DID Doc hash, encode it to hex string, in order to pass into
              <code>ioctl</code>. For simplicity, you can directly use the hex
              encoded SHA256 hash string provided by
              <code>ioctl did generate</code>.
            </p>
            <p>
              Here is a Go example to hash DID doc with SHA512-256 and output a
              hex string:
            </p>
            <div class="language-go extra-class">
              <pre
                class="language-go"
              ><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;crypto/sha512&quot;</span>
	<span class="token string">&quot;encoding/hex&quot;</span>
	<span class="token string">&quot;fmt&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> doc <span class="token operator">=</span> <span class="token string">`{
  &quot;@context&quot;: &quot;https://www.w3.org/ns/did/v1&quot;,
  &quot;id&quot;: &quot;did:io:0x476c81C27036D05cB5ebfe30ae58C23351a61C4A&quot;,
  &quot;authentication&quot;: [
    {
      &quot;id&quot;: &quot;did:io:0x476c81C27036D05cB5ebfe30ae58C23351a61C4A#owner&quot;,
      &quot;type&quot;: &quot;EcdsaSecp256k1VerificationKey2019&quot;,
      &quot;controller&quot;: &quot;did:io:0x476c81C27036D05cB5ebfe30ae58C23351a61C4A&quot;,
      &quot;publicKeyHex&quot;: &quot;0355237d4af6afc7f139e396329d56a4d1235c94abde9a25782241774c06cccfb6&quot;
    }
  ]
}`</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	sum <span class="token operator">:=</span> sha512<span class="token punctuation">.</span><span class="token function">Sum512_256</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span><span class="token punctuation">)</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>hex<span class="token punctuation">.</span><span class="token function">EncodeToString</span><span class="token punctuation">(</span>sum<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
            </div>
            <h2 id="_4-register-did">
              <a href="#_4-register-did" class="header-anchor">#</a> 4. Register
              DID
            </h2>
            <div class="language- extra-class">
              <pre class="language-text"><code>Usage:
  ioctl did register (CONTRACT_ADDRESS|ALIAS) hash uri [flags]
</code></pre>
            </div>
            <p>Example:</p>
            <div class="language- extra-class">
              <pre
                class="language-text"
              ><code>ioctl did register io1m3wjevwhz2s58sasq0wj4luxrnqt047s687zw8 21e575fd6fd75591465481404986fac73de766446c793ff67adfa171d51adf85 https://gateway.pinata.cloud/ipfs/QmNNhWHyi5tRH78QqcTYHwfyNc3bbuLZTTvmk3UhWdAWjG -s test1
</code></pre>
            </div>
            <h2 id="_5-resovle-did">
              <a href="#_5-resovle-did" class="header-anchor">#</a> 5. Resovle
              DID
            </h2>
            <p>You can resovle IoTeX DID with our web resovler</p>
            <div class="language- extra-class">
              <pre
                class="language-text"
              ><code>http://did.testnet.iotex.one/1.0/identifiers/&lt;DID&gt;
</code></pre>
            </div>
            <p>Exmaple:</p>
            <div class="language- extra-class">
              <pre
                class="language-text"
              ><code>http://did.testnet.iotex.one/1.0/identifiers/did:io:0x476c81C27036D05cB5ebfe30ae58C23351a61C4A
</code></pre>
            </div>
            <h2 id="_6-update-did">
              <a href="#_6-update-did" class="header-anchor">#</a> 6. Update DID
            </h2>
            <div class="language- extra-class">
              <pre class="language-text"><code>Usage:
  ioctl did update (CONTRACT_ADDRESS|ALIAS) hash uri [flags]
</code></pre>
            </div>
            <p>Example:</p>
            <div class="language- extra-class">
              <pre
                class="language-text"
              ><code>ioctl did update io1m3wjevwhz2s58sasq0wj4luxrnqt047s687zw8 21e575fd6fd75591465481404986fac73de766446c793ff67adfa171d51adf85 https://gateway.pinata.cloud/ipfs/QmNNhWHyi5tRH78QqcTYHwfyNc3bbuLZTTvmk3UhWdAWjG -s test1
</code></pre>
            </div>
            <h2 id="_7-deregister-did">
              <a href="#_7-deregister-did" class="header-anchor">#</a> 7.
              Deregister DID
            </h2>
            <div class="language- extra-class">
              <pre class="language-text"><code>Usage:
  ioctl did deregister (CONTRACT_ADDRESS|ALIAS) [flags]
</code></pre>
            </div>
            <p>Example:</p>
            <div class="language- extra-class">
              <pre
                class="language-text"
              ><code> ioctl did deregister io1m3wjevwhz2s58sasq0wj4luxrnqt047s687zw8 -s test1
</code></pre>
            </div>
          </div>
          <footer class="page-edit">
            <div class="edit-link">
              <a
                href="https://github.com/iotexproject/iotex-docs/edit/master/middleware/did.md"
                target="_blank"
                rel="noopener noreferrer"
                >Edit this page on GitHub</a
              >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                x="0px"
                y="0px"
                viewBox="0 0 100 100"
                width="15"
                height="15"
                class="icon outbound"
              >
                <path
                  fill="currentColor"
                  d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"
                ></path>
                <polygon
                  fill="currentColor"
                  points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"
                ></polygon>
              </svg>
            </div>
            <div class="last-updated">
              <span class="prefix">Last Updated:</span>
              <span class="time">7/2/2020, 7:28:37 PM</span>
            </div>
          </footer>
          <!---->
        </main>
      </div>
      <div class="global-ui"></div>
    </div>
    <script src="/assets/js/app.7d5bfce5.js" defer></script
    ><script src="/assets/js/2.8d860b64.js" defer></script
    ><script src="/assets/js/17.320aa745.js" defer></script>
  </body>
</html>
